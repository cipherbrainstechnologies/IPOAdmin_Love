"use strict";(self.webpackChunkipo_dekho=self.webpackChunkipo_dekho||[]).push([[912],{3968:function(e,a,i){i(2791);a.Z=i.p+"static/media/blank-image.2a1a5fd157301dfc481a66e494c1795e.svg"},8022:function(e,a,i){i(2791);var l=i(184);a.Z=function(e){var a=e.children;return(0,l.jsx)("div",{id:"kt_app_content",className:"app-content flex-column-fluid",children:(0,l.jsx)("div",{id:"kt_app_content_container",className:"app-container container-xxl",children:a})})}},5940:function(e,a,i){i(2791);var l=i(184);a.Z=function(e){var a=e.title;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{id:"kt_app_toolbar",className:"app-toolbar py-3 py-lg-6",children:(0,l.jsx)("div",{id:"kt_app_toolbar_container",className:"app-container container-xxl d-flex flex-stack",children:(0,l.jsx)("div",{className:"page-title d-flex flex-column justify-content-center flex-wrap me-3",children:(0,l.jsx)("h1",{className:"page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0",children:a})})})})})}},3912:function(e,a,i){i.r(a);var l=i(9439),n=i(2506),t=i(2791),s=(i(6770),i(7689)),o=i(1087),d=i(407),r=i(9513),c=i.n(r),m=i(9434),u=i(1258),v=i(8022),p=i(5940),f=i(3968),x=(i(8639),i(184));a.default=function(){var e=(0,t.useState)(""),a=(0,l.Z)(e,2),i=a[0],r=a[1],h=(0,m.v9)((function(e){return e.newsReducer})).getDataById,g=(0,s.UO)(),b=(0,m.I0)(),j=(0,s.s0)(),N=new FormData,y=/image\/(png|jpg|jpeg)/i,w=(0,t.useState)(null),k=(0,l.Z)(w,2),C=k[0],D=k[1],_=(0,t.useState)(null),I=(0,l.Z)(_,2),F=I[0],Z=I[1],S=function(e){var a=e.name,i=e.value,l=e.onChange;return(0,x.jsx)(c(),{selected:i&&new Date(i)||null,className:"form-control",onChange:function(e){l(a,e)},timeInputLabel:"Time:",dateFormat:"MMMM d,yyy h:mm aa",showTimeInput:!0})},T=function(e){var a=e.target.files[0];if(a.size/1024>4096)D(""),r("File size is greater than maximum limit*");else if(a.type.match(y)){if(r(""),D(a),a){var i={id:null===h||void 0===h?void 0:h.id,payload:N};N.append("file",a),b((0,u.r3)({payloadImage:i}))}}else D(""),r("Image type is not valid*")};(0,t.useEffect)((function(){var e,a=!1;return C&&((e=new FileReader).onload=function(e){var i=e.target.result;i&&!a&&Z(i)},e.readAsDataURL(C)),function(){a=!0,e&&1===e.readyState&&e.abort()}}),[C]);var z=function(){D("");var e={id:null===h||void 0===h?void 0:h.id,payload:N};N.append("file",C),b((0,u.r3)({payloadImage:e})),Z("")};return(0,t.useEffect)((function(){var e={id:null===g||void 0===g?void 0:g.newsId};Z(null===h||void 0===h?void 0:h.file),b((0,u.XC)({payload:e}))}),[null===h||void 0===h?void 0:h.file]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(p.Z,{title:"News Edit"}),(0,x.jsx)(v.Z,{children:(0,x.jsx)("div",{className:"card",children:(0,x.jsx)("div",{className:"card-body",children:(0,x.jsx)(n.J9,{enableReinitialize:!0,initialValues:{Content:null===h||void 0===h?void 0:h.Content,url:null===h||void 0===h?void 0:h.url,Title:null===h||void 0===h?void 0:h.Title,newsDate:(0,d.Yy)(null===h||void 0===h?void 0:h.Date)},onSubmit:function(e,a){var i=a.resetForm;!function(e){var a={id:null===h||void 0===h?void 0:h.id,Content:null===e||void 0===e?void 0:e.Content,Title:null===e||void 0===e?void 0:e.Title,url:null===e||void 0===e?void 0:e.url,Date:(0,d.Yy)(null===e||void 0===e?void 0:e.newsDate),algoliaID:null===h||void 0===h?void 0:h.algoliaID};b((0,u.jB)({payload:a})),j("/news")}(e),i({values:""})},children:function(e){var a=e.values,l=e.setFieldValue;return(0,x.jsxs)(n.l0,{children:[(0,x.jsx)("label",{className:"form-label d-block",children:"News Image"}),(0,x.jsxs)("div",{className:"image-input image-input-empty image-input-outline image-input-placeholder mb-3","data-kt-image-input":"true",style:{position:"relative"},children:[(0,x.jsx)("div",{style:{backgroundSize:"contain",backgroundPosition:"center"},children:(0,x.jsx)("img",{className:"image-input-wrapper w-400px h-400px",src:F||f.Z,alt:"preview"})}),(0,x.jsxs)("label",{htmlFor:"image","data-kt-image-input-action":"change",className:"btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow",children:[(0,x.jsx)("i",{className:"bi bi-pencil-fill fs-7"}),(0,x.jsx)("input",{name:"file",type:"file",id:"image",onChange:T,hidden:!0,accept:".png, .jpg, .jpeg",value:null===a||void 0===a?void 0:a.file})]}),F&&(0,x.jsx)("div",{style:{position:"absolute",right:"-12px",bottom:"-12px"},onClick:z,className:"btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow",children:(0,x.jsx)("i",{class:"bi bi-x fs-2"})}),(0,x.jsx)("div",{style:{textAlign:"center"},className:"text-danger fs-5 mt-2",children:i})]}),(0,x.jsx)("div",{className:"text-muted fs-7",children:"Set the News image. Only .png, .jpg and *.jpeg image files are accepted"}),(0,x.jsxs)("div",{className:"w-100 fv-row mt-10",children:[(0,x.jsx)("label",{className:"form-label",children:"Date"}),(0,x.jsx)(S,{name:"newsDate",value:null===a||void 0===a?void 0:a.newsDate,onChange:l})]}),(0,x.jsxs)("div",{className:"w-100 fv-row mt-10",children:[(0,x.jsx)("label",{className:"form-label",children:"Title"}),(0,x.jsx)(n.gN,{name:"Title",type:"text",className:"form-control mb-2"})]}),(0,x.jsxs)("div",{className:"w-100 fv-row mt-10",children:[(0,x.jsx)("label",{className:"form-label",children:"News Url"}),(0,x.jsx)(n.gN,{name:"url",type:"text",className:"form-control mb-2"})]}),(0,x.jsxs)("div",{className:"mt-10",children:[(0,x.jsx)("label",{className:"form-label",children:"Content"}),(0,x.jsx)(n.gN,{name:"Content",as:"textarea",className:"form-control"})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-end mt-15",children:[(0,x.jsx)(o.rU,{to:"/news",className:"btn btn-light me-5",children:"Back to List"}),(0,x.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})]})}})})})})]})}}}]);
//# sourceMappingURL=912.3a367ca7.chunk.js.map