"use strict";(self.webpackChunkipo_dekho=self.webpackChunkipo_dekho||[]).push([[754],{4754:function(e,l,a){a.r(l);var i=a(9439),n=a(2506),d=a(2426),t=a.n(d),o=a(2791),s=a(9513),r=a.n(s),c=a(9434),v=a(7689),u=a(8022),m=a(5940),p=a(1585),x=(a(9798),a(3928),a(112)),f=a(3968),h=a(2335),g=a(9085),I=(a(5462),a(407)),O=a(184);l.default=function(){var e,l,a=(0,c.I0)(),d=(0,v.TH)(),s=(0,o.useState)(""),j=(0,i.Z)(s,2),P=j[0],b=j[1],D=d.state,N=(0,o.useState)(""),y=(0,i.Z)(N,2),w=(y[0],y[1]),C=new FormData,S=new FormData,T=/image\/(png|jpg|jpeg)/i,L=(0,o.useState)(null),_=(0,i.Z)(L,2),A=_[0],k=_[1],F=(0,o.useState)(null===D||void 0===D||null===(e=D.data)||void 0===e?void 0:e.file),R=(0,i.Z)(F,2),Y=R[0],Z=R[1],E=(0,c.v9)((function(e){return null===e||void 0===e?void 0:e.mainLineIpoSlice})),U=(E.updatedIpo,E.getIPODataById),z=(E.uploadImage,E.isLoading),J=localStorage.getItem("ipoType"),M=function(e){var l;if("Upcoming"===(null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.value)){var i,n=t()().format(),d={CategoryForIPOS:J,id:null===U||void 0===U?void 0:U.id,IPOStatus:null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value,IPOUpcomingDate:n,algoliaID:null===U||void 0===U?void 0:U.algoliaID};a((0,p.cp)({payload:d}))}else{var o,s={CategoryForIPOS:J,id:null===U||void 0===U?void 0:U.id,IPOStatus:null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.value,algoliaID:null===U||void 0===U?void 0:U.algoliaID};a((0,p.cp)({payload:s}))}},V=function(e){var l=e.name,a=e.value,i=e.onChange;return(0,O.jsx)(r(),{selected:a&&new Date(a)||null,className:"form-control",dateFormat:"MMM d, yyyy",onChange:function(e){i(l,e),w(l,e)}})};(0,o.useEffect)((function(){var e,l={CategoryForIPOS:J,id:null===D||void 0===D||null===(e=D.data)||void 0===e?void 0:e.id};a((0,p.oc)({payload:l}))}),[a]);return(0,o.useEffect)((function(){var e,l=!1;return A&&((e=new FileReader).onload=function(e){var a=e.target.result;a&&!l&&Z(a)},e.readAsDataURL(A)),function(){l=!0,e&&1===e.readyState&&e.abort()}}),[A]),(0,o.useEffect)((function(){Z(null===U||void 0===U?void 0:U.file)}),[null===U||void 0===U?void 0:U.file]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(m.Z,{title:"IPO Edit"}),(0,O.jsx)(u.Z,{children:(0,O.jsxs)("div",{className:"form d-flex flex-column flex-lg-row","data-kt-redirect":"../../demo1/dist/apps/ecommerce/catalog/products.html",children:[(0,O.jsxs)("div",{className:"d-flex flex-column gap-7 gap-lg-10 w-100 w-lg-300px min-w-lg-300px mb-7 me-lg-10",children:[(0,O.jsxs)("div",{className:"card card-flush py-4",children:[(0,O.jsx)("div",{className:"card-header",children:(0,O.jsx)("div",{className:"card-title",children:(0,O.jsx)("h4",{children:"Company Logo"})})}),(0,O.jsxs)("div",{className:"card-body text-center pt-0",children:[(0,O.jsxs)("div",{class:"image-input image-input-empty image-input-outline image-input-placeholder mb-3","data-kt-image-input":"true",children:[(0,O.jsxs)("div",{className:"btn-container w-150px h-150px m-auto position-relative file_preview_wrapper",children:[(0,O.jsxs)("p",{children:[(0,O.jsx)("label",{htmlFor:"image",className:"btn position-absolute edit_btn btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow",children:(0,O.jsx)("i",{className:"bi bi-pencil-fill fs-7"})}),(0,O.jsx)("input",{name:"file",type:"file",id:"image",onChange:function(e){var l=e.target.files[0];if(l.size/1024>4096)k(""),b("File size is greater than maximum limit*");else if(l.type.match(T)){var i;C.append("file",l),S.append("file",l),S.append("CategoryForIPOS",J),S.append("algoliaID",null===U||void 0===U?void 0:U.algoliaID);var n={payload:S,id:{id:null===D||void 0===D||null===(i=D.data)||void 0===i?void 0:i.id}};a((0,p.lJ)({payload:n})),b(""),k(l)}else k(""),b("Image type is not valid*")},hidden:!0,accept:".png, .jpg, .jpeg"})]}),(0,O.jsx)("div",{className:"preview w-150px h-150px",children:z?(0,O.jsx)(h.Z,{}):(0,O.jsx)("img",{src:Y||f.Z,alt:"preview"})}),Y&&(0,O.jsx)("div",{onClick:function(){var e;k(""),Z("");S.append("file",""),S.append("algoliaID",null===U||void 0===U?void 0:U.algoliaID);var l={payload:S,id:{id:null===D||void 0===D||null===(e=D.data)||void 0===e?void 0:e.id}};a((0,p.lJ)({payload:l})),b("")},className:"btn btn_delete btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow",children:(0,O.jsx)("i",{className:"bi bi-x fs-2"})})]}),(0,O.jsx)("div",{className:"text-danger fs-5 mt-2",children:P})]}),(0,O.jsx)("div",{className:"text-muted fs-7",children:"Set the product thumbnail image. Only .png, .jpg and *.jpeg image files are accepted"})]})]}),(0,O.jsx)(n.J9,{enableReinitialize:!0,initialValues:{IPOStatus:null===U||void 0===U?void 0:U.IPOstatus},children:function(e){var l=e.values;return(0,O.jsx)(n.l0,{onChange:M,children:(0,O.jsxs)("div",{className:"card card-flush py-4",children:[(0,O.jsxs)("div",{className:"card-header",children:[(0,O.jsx)("div",{className:"card-title",children:(0,O.jsx)("h2",{children:"Status"})}),(0,O.jsx)("div",{className:"card-toolbar",children:"draft"===(null===l||void 0===l?void 0:l.IPOStatus)?(0,O.jsx)("div",{className:"rounded-circle bg-warning w-15px h-15px",id:"kt_ipo_status"}):"Live"===(null===l||void 0===l?void 0:l.IPOStatus)?(0,O.jsx)("div",{className:"rounded-circle bg-danger w-15px h-15px",id:"kt_ipo_status"}):"WaitingAllotment"===(null===l||void 0===l?void 0:l.IPOStatus)?(0,O.jsx)("div",{className:"rounded-circle bg-warning w-15px h-15px",id:"kt_ipo_status"}):"AllotmentOut"===(null===l||void 0===l?void 0:l.IPOStatus)?(0,O.jsx)("div",{className:"rounded-circle bg-primary w-15px h-15px",id:"kt_ipo_status"}):"Upcoming"===(null===l||void 0===l?void 0:l.IPOStatus)?(0,O.jsx)("div",{className:"rounded-circle bg-info w-15px h-15px",id:"kt_ipo_status"}):"Listed"===(null===l||void 0===l?void 0:l.IPOStatus)?(0,O.jsx)("div",{className:"rounded-circle bg-success w-15px h-15px",id:"kt_ipo_status"}):(0,O.jsx)("div",{className:"rounded-circle bg-none w-15px h-15px",id:"kt_ipo_status"})})]}),(0,O.jsxs)("div",{className:"card-body pt-0",children:[(0,O.jsxs)(n.gN,{as:"select",className:"form-control mb-2",name:"IPOStatus",children:[(0,O.jsx)("option",{value:"draft",children:"Draft"})," ",(0,O.jsx)("option",{value:"Live",children:"Live"}),(0,O.jsx)("option",{value:"WaitingAllotment",children:"Waiting Allotment"}),(0,O.jsx)("option",{value:"AllotmentOut",children:"Allotment Out"}),(0,O.jsx)("option",{value:"Upcoming",children:"Upcoming"}),(0,O.jsx)("option",{value:"Listed",children:"Listed"})]}),(0,O.jsxs)("div",{className:"text-muted fs-7",children:["Set the ipo status."," "]})]})]})})}}),(0,O.jsxs)("div",{className:"card card-flush py-4",children:[(0,O.jsx)("div",{className:"card-header",children:(0,O.jsx)("div",{className:"card-title",children:(0,O.jsx)("h2",{children:"Tentative Timetable"})})}),(0,O.jsx)(n.J9,{enableReinitialize:!0,initialValues:D.type?{IPOOpenDate:null===U||void 0===U?void 0:U.IPOOpenDate,IPOCloseDate:null===U||void 0===U?void 0:U.IPOCloseDate,IPOAllotmentDate:null===U||void 0===U?void 0:U.IPOAllotmentDate,IPORefundsInitiation:null===U||void 0===U?void 0:U.IPORefundsInitiation,IPODematTransfer:null===U||void 0===U?void 0:U.IPODematTransfer,IPOListingDate:null===U||void 0===U?void 0:U.IPOListingDate,secondDate:null===U||void 0===U?void 0:U.secondDate,Thirddate:null===U||void 0===U?void 0:U.Thirddate}:{IPOOpenDate:"",IPOCloseDate:"",IPOAllotmentDate:"",IPORefundsInitiation:"",IPODematTransfer:"",IPOListingDate:"",secondDate:"",Thirddate:""},onSubmit:function(e){return function(e){var l,i={CategoryForIPOS:J,id:null===D||void 0===D||null===(l=D.data)||void 0===l?void 0:l.id,algoliaID:null===U||void 0===U?void 0:U.algoliaID,IPOOpenDate:null!==e&&void 0!==e&&e.IPOOpenDate?(0,I.Yy)(null===e||void 0===e?void 0:e.IPOOpenDate):null===e||void 0===e?void 0:e.IPOOpenDate,IPOCloseDate:null!==e&&void 0!==e&&e.IPOCloseDate?(0,I.Yy)(null===e||void 0===e?void 0:e.IPOCloseDate):null===e||void 0===e?void 0:e.IPOCloseDate,IPOAllotmentDate:null!==e&&void 0!==e&&e.IPOAllotmentDate?(0,I.Yy)(null===e||void 0===e?void 0:e.IPOAllotmentDate):null===e||void 0===e?void 0:e.IPOAllotmentDate,IPORefundsInitiation:null!==e&&void 0!==e&&e.IPORefundsInitiation?(0,I.Yy)(null===e||void 0===e?void 0:e.IPORefundsInitiation):null===e||void 0===e?void 0:e.IPORefundsInitiation,IPODematTransfer:null!==e&&void 0!==e&&e.IPODematTransfer?(0,I.Yy)(null===e||void 0===e?void 0:e.IPODematTransfer):null===e||void 0===e?void 0:e.IPODematTransfer,IPOListingDate:null!==e&&void 0!==e&&e.IPOListingDate?(0,I.Yy)(null===e||void 0===e?void 0:e.IPOListingDate):null===e||void 0===e?void 0:e.IPOListingDate,secondDate:null!==e&&void 0!==e&&e.secondDate?(0,I.Yy)(null===e||void 0===e?void 0:e.secondDate):null===e||void 0===e?void 0:e.secondDate,Thirddate:null!==e&&void 0!==e&&e.Thirddate?(0,I.Yy)(null===e||void 0===e?void 0:e.Thirddate):null===e||void 0===e?void 0:e.Thirddate};a((0,p.cp)({payload:i}))}(e)},children:function(e){var l=e.values,a=e.setFieldValue;return(0,O.jsx)(n.l0,{children:(0,O.jsxs)("div",{className:"card-body pt-0",children:[(0,O.jsxs)("div",{className:"w-100 fv-row mb-10",children:[(0,O.jsx)("label",{className:"form-label",children:"IPO Open Date"}),(0,O.jsx)(V,{name:"IPOOpenDate",className:"form-control mb-2",value:null===l||void 0===l?void 0:l.IPOOpenDate,onChange:a})]}),(0,O.jsxs)("div",{className:"w-100 fv-row mb-10",children:[(0,O.jsx)("label",{className:"form-label",children:"IPO Close Date"}),(0,O.jsx)(V,{name:"IPOCloseDate",className:"form-control mb-2",value:null===l||void 0===l?void 0:l.IPOCloseDate,onChange:a})]}),(0,O.jsxs)("div",{className:"w-100 fv-row mb-10 ",children:[(0,O.jsx)("label",{className:"form-label",children:"IPO Second Date"}),(0,O.jsx)(V,{name:"secondDate",className:"form-control mb-2",value:null===l||void 0===l?void 0:l.secondDate,onChange:a})]}),(0,O.jsxs)("div",{className:"w-100 fv-row mb-10",children:[(0,O.jsx)("label",{className:"form-label",children:"IPO Third Date"}),(0,O.jsx)(V,{name:"Thirddate",className:"form-control mb-2",value:null===l||void 0===l?void 0:l.Thirddate,onChange:a})]}),(0,O.jsxs)("div",{className:"w-100 fv-row mb-10",children:[(0,O.jsx)("label",{className:"form-label",children:"IPO Allotment Date"}),(0,O.jsx)(V,{name:"IPOAllotmentDate",className:"form-control mb-2",value:null===l||void 0===l?void 0:l.IPOAllotmentDate,onChange:a})]}),(0,O.jsxs)("div",{className:"w-100 fv-row mb-10",children:[(0,O.jsx)("label",{className:"form-label",children:"IPO Refunds Initiation"}),(0,O.jsx)(V,{name:"IPORefundsInitiation",className:"form-control mb-2",value:null===l||void 0===l?void 0:l.IPORefundsInitiation,onChange:a})]}),(0,O.jsxs)("div",{className:"w-100 fv-row mb-10",children:[(0,O.jsx)("label",{className:"form-label",children:"IPO Demat Transfer"}),(0,O.jsx)(V,{name:"IPODematTransfer",className:"form-control mb-2",value:null===l||void 0===l?void 0:l.IPODematTransfer,onChange:a})]}),(0,O.jsxs)("div",{className:"w-100 fv-row mb-10",children:[(0,O.jsx)("label",{className:"form-label",children:"IPO Listing Date"}),(0,O.jsx)(V,{name:"IPOListingDate",className:"form-control mb-2",value:null===l||void 0===l?void 0:l.IPOListingDate,onChange:a})]}),(0,O.jsx)("div",{className:"d-flex justify-content-center mt-4",children:(0,O.jsx)("button",{type:"submit",className:"btn btn-primary",ss:!0,children:"Save Changes"})})]})})}})]})]}),(0,O.jsxs)("div",{className:"d-flex flex-column flex-row-fluid gap-7 gap-lg-10",children:[(0,O.jsxs)("div",{className:"d-flex flex-column flex-row-fluid gap-7 gap-lg-10",children:[(0,O.jsx)("div",{className:"d-flex flex-column flex-row-fluid gap-7 gap-lg-10",children:(0,O.jsx)(x.Z,{IPOTYPE:null===D||void 0===D||null===(l=D.data)||void 0===l?void 0:l.CategoryForIPOS,ipoEdit:D.type,ipoPrefillData:D.data})}),(0,O.jsx)("div",{className:"d-flex justify-content-end"})]}),(0,O.jsx)("div",{className:"d-flex justify-content-end"})]})]})}),(0,O.jsx)(g.Ix,{})]})}},9798:function(){},3928:function(){}}]);
//# sourceMappingURL=754.6c0f6fce.chunk.js.map